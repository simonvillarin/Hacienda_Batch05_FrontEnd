<main>
  <div class="timeline">
    <div class="icon icon1">
      <span class="material-symbols-rounded"> contract </span>
    </div>
    <div class="line line1"></div>
    <div class="icon icon2">
      <span class="material-symbols-rounded"> handshake </span>
    </div>
    <div class="line line2"></div>
    <div class="icon icon3">
      <span class="material-symbols-rounded"> payment </span>
    </div>
    <div class="line line3"></div>
    <div class="icon icon4">
      <span class="material-symbols-rounded"> local_shipping </span>
    </div>
  </div>

  <div class="card-container">
    <div class="card flex justify-content-center" style="margin-bottom: 0px">
      <p-card header="Your order has been placed">
        <div class="card-content-offer">
          <div>
            <div>
              <div class="m-1">Payment Reference Number</div>
              <div class="m-2">{{ paymentDetails?.paymentIdRef }}</div>
            </div>
          </div>
        </div>

        <ng-template pTemplate="title">
          <span
            class="material-symbols-rounded"
            style="
              color: var(--darker-primary);
              justify-content: center;
              align-items: center;
            "
          >
            done
          </span>
        </ng-template>
      </p-card>
    </div>
    <div class="role-container">
      <div class="card flex justify-content-center">
        <p-card header="Delivery Address">
          Order will be shipped to:
          <p class="m-0">
            {{ user.firstName }} {{ user.middleName }} {{ user.lastName }}
            {{ user.suffix }}
          </p>

          <ng-template pTemplate="title">
            <span
              class="material-symbols-rounded"
              style="
                color: var(--darker-primary);
                justify-content: center;
                align-items: center;
              "
            >
              location_on
            </span>
          </ng-template>

          <ng-template pTemplate="content">
            <p class="contact" style="font-weight: 500">{{ user.contact }}</p>
            {{ user.unit }} {{ user.street }}, {{ user.village }},
            {{ user.barangay }} {{ user.city }}, {{ user.region }}
          </ng-template>
        </p-card>
      </div>

      <div class="card1 flex justify-content-center">
        <p-card header="Order Details">
          <div class="card-content-offer">
            <div>
              <div>
                <div class="m-1">Order Reference Number</div>
                <div class="m-2">{{ payment?.orderIdRef }}</div>
              </div>
              <div>
                <div class="m-1">Order Date</div>
                <div class="m-2">
                  {{ payment?.paymentDate | date : "MMMM d, y" }}
                  {{ payment?.paymentTime }}
                </div>
              </div>
              <div>
                <div class="m-1">Payment Method</div>
                <div class="m-2">{{ payment?.paymentMode }}</div>
              </div>
              <div>
                <div class="m-1">Estimated Delivery</div>
                <div class="m-2">
                  <ng-container *ngIf="transactions.deliverDate == null">
                    This will be updated
                  </ng-container>

                  <ng-container *ngIf="transactions.deliverDate != null">
                    {{ transactions?.deliverDate | date : "MMMM d" }} to
                    {{ transactions.deliverDate | dateSecondAdd : 3 | date : "MMMM d"}}
                  </ng-container>        
                </div>
              </div>
            </div>
          </div>

          <ng-template pTemplate="title">
            <span
              class="material-symbols-rounded"
              style="
                color: var(--darker-primary);
                justify-content: center;
                align-items: center;
              "
            >
              info
            </span>
          </ng-template>
        </p-card>
      </div>

      <div class="card flex justify-content-center">
        <p-card header="Order Summary">
          <p class="m-0"></p>

          <ng-template pTemplate="title">
            <span
              class="material-symbols-rounded"
              style="
                color: var(--darker-primary);
                justify-content: center;
                align-items: center;
              "
            >
              receipt_long
            </span>
          </ng-template>

          <ng-template pTemplate="content">
            <div class="card-offer">
              <div class="img-container-offer">
                <img class="img-offer" [src]="post.image" alt="Crop" />
              </div>
              <div class="card-content-offer">
                <div>
                  <div>
                    <div class="title-offer">Crop Name</div>
                    <div class="data-offer">{{ post.name }}</div>
                  </div>
                  <div>
                    <div class="title-offer">Category</div>
                    <div class="data-offer">
                      {{ post.category }}
                    </div>
                  </div>
                  <div>
                    <div class="title-offer">Description</div>
                    <p class="data-offer">
                      {{ post.description }}
                    </p>
                  </div>
                  <div>
                    <div class="title-offer">
                      {{
                        post.measurement === "Weight" ? "Weight" : "Quantity"
                      }}
                    </div>
                    <div class="data-offer">
                      {{ post.value }}
                      {{ post.measurement === "Weight" ? "kg" : "" }}
                    </div>
                  </div>
                  <div>
                    <div class="title-offer t1">Price</div>
                    <p class="data-offer d1">₱ {{ post.price }}</p>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="card-content-offer"
              style="
                margin: 20px;
                justify-content: center;
                margin-left: 100px;
                line-height: 30px;
              "
            >
              <div>
                <div>
                  <div class="m-1">Subtotal</div>
                  <div class="m-1">₱ {{ post.price }}</div>
                </div>
                <div>
                  <div class="m-1">Shipping</div>
                  <div class="m-1">(wala pa data)</div>
                </div>
                <div>
                  <div class="m-1">Total</div>
                  <div class="m-2">₱ {{ post.price }}</div>
                </div>
              </div>
            </div>
          </ng-template>
        </p-card>
      </div>
    </div>
  </div>
</main>
